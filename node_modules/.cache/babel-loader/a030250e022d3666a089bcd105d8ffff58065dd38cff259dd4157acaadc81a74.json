{"ast":null,"code":"import _slicedToArray from \"/home/johnrdorazio/.yarn/berry/cache/@babel-runtime-npm-7.20.6-ef7cda3b78-10c0.zip/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport _objectWithoutProperties from \"/home/johnrdorazio/.yarn/berry/cache/@babel-runtime-npm-7.20.6-ef7cda3b78-10c0.zip/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";\nimport _toConsumableArray from \"/home/johnrdorazio/.yarn/berry/cache/@babel-runtime-npm-7.20.6-ef7cda3b78-10c0.zip/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nvar _excluded = [\"locale\", \"nationalCalendar\", \"diocesanCalendar\", \"year\", \"LiturgyOfTheDayOuterClassnames\", \"allowPrevNext\", \"LiturgyOfTheDayPrevBtnClassnames\", \"LiturgyOfTheDayNextBtnClassnames\"];\nvar _jsxFileName = \"/home/johnrdorazio/development/liturgy-of-the-day-react/src/lib/components/LiturgyOfTheDay.js\",\n  _this = this,\n  _s = $RefreshSig$();\nimport { useState, useEffect } from 'react';\nimport i18n from 'i18next';\nimport { initReactI18next, useTranslation } from 'react-i18next';\nimport enRes from './locales/en/translation.json';\nimport itRes from './locales/it/translation.json';\nimport esRes from './locales/es/translation.json';\nimport deRes from './locales/de/translation.json';\nimport frRes from './locales/fr/translation.json';\nimport ptRes from './locales/pt/translation.json';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar resources = {\n  en: {\n    translation: enRes\n  },\n  it: {\n    translation: itRes\n  },\n  es: {\n    translation: esRes\n  },\n  de: {\n    translation: deRes\n  },\n  fr: {\n    translation: frRes\n  },\n  pt: {\n    translation: ptRes\n  }\n};\nvar endpointVersion = \"dev\"; //could also be 'dev'...\nvar MetadataURL = \"https://litcal.johnromanodorazio.com/api/\".concat(endpointVersion, \"/LitCalMetadata.php\");\nvar LitCalAPIURL = \"https://litcal.johnromanodorazio.com/api/\".concat(endpointVersion, \"/LitCalEngine.php\");\nvar highContrast = [\"green\", \"red\", \"purple\"];\nvar joinClassNames = function joinClassNames(class1, classes) {\n  return [class1].concat(_toConsumableArray(classes.split(' '))).join(' ').trim();\n};\ni18n.use(initReactI18next).init({\n  lng: 'en',\n  fallbackLng: 'en',\n  resources: resources,\n  react: {\n    useSuspense: true\n  }\n});\nvar LiturgyOfTheDay = function LiturgyOfTheDay(_ref) {\n  _s();\n  var _ref$locale = _ref.locale,\n    locale = _ref$locale === void 0 ? '' : _ref$locale,\n    _ref$nationalCalendar = _ref.nationalCalendar,\n    nationalCalendar = _ref$nationalCalendar === void 0 ? '' : _ref$nationalCalendar,\n    _ref$diocesanCalendar = _ref.diocesanCalendar,\n    diocesanCalendar = _ref$diocesanCalendar === void 0 ? '' : _ref$diocesanCalendar,\n    _ref$year = _ref.year,\n    year = _ref$year === void 0 ? '' : _ref$year,\n    _ref$LiturgyOfTheDayO = _ref.LiturgyOfTheDayOuterClassnames,\n    LiturgyOfTheDayOuterClassnames = _ref$LiturgyOfTheDayO === void 0 ? '' : _ref$LiturgyOfTheDayO,\n    _ref$allowPrevNext = _ref.allowPrevNext,\n    allowPrevNext = _ref$allowPrevNext === void 0 ? false : _ref$allowPrevNext,\n    _ref$LiturgyOfTheDayP = _ref.LiturgyOfTheDayPrevBtnClassnames,\n    LiturgyOfTheDayPrevBtnClassnames = _ref$LiturgyOfTheDayP === void 0 ? '' : _ref$LiturgyOfTheDayP,\n    _ref$LiturgyOfTheDayN = _ref.LiturgyOfTheDayNextBtnClassnames,\n    LiturgyOfTheDayNextBtnClassnames = _ref$LiturgyOfTheDayN === void 0 ? '' : _ref$LiturgyOfTheDayN,\n    props = _objectWithoutProperties(_ref, _excluded);\n  var _useState = useState(null),\n    _useState2 = _slicedToArray(_useState, 2),\n    metadata = _useState2[0],\n    setMetadata = _useState2[1];\n  var _useState3 = useState(null),\n    _useState4 = _slicedToArray(_useState3, 2),\n    litCal = _useState4[0],\n    setLitCal = _useState4[1];\n  var _useState5 = useState(false),\n    _useState6 = _slicedToArray(_useState5, 2),\n    loading = _useState6[0],\n    setLoading = _useState6[1];\n  var _useState7 = useState(false),\n    _useState8 = _slicedToArray(_useState7, 2),\n    hasError = _useState8[0],\n    setHasError = _useState8[1];\n  var _useState9 = useState(null),\n    _useState10 = _slicedToArray(_useState9, 2),\n    error = _useState10[0],\n    setError = _useState10[1];\n  var _useState11 = useState(new Intl.DateTimeFormat('en', {\n      dateStyle: 'full'\n    })),\n    _useState12 = _slicedToArray(_useState11, 2),\n    dtFormat = _useState12[0],\n    setDtFormat = _useState12[1];\n  var _useState13 = useState(0),\n    _useState14 = _slicedToArray(_useState13, 2),\n    addDays = _useState14[0],\n    setAddDays = _useState14[1];\n  var _useTranslation = useTranslation(),\n    t = _useTranslation.t;\n  var commonsMap = {\n    \"For-One-Martyr\": t(\"For-One-Martyr\"),\n    \"For-Several-Martyrs\": t(\"For-Several-Martyrs\"),\n    \"For-Missionary-Martyrs\": t(\"For-Missionary-Martyrs\"),\n    \"For-One-Missionary-Martyr\": t(\"For-One-Missionary-Martyr\"),\n    \"For-Several-Missionary-Martyrs\": t(\"For-Several-Missionary-Martyrs\"),\n    \"For-a-Virgin-Martyr\": t(\"For-a-Virgin-Martyr\"),\n    \"For-a-Holy-Woman-Martyr\": t(\"For-a-Holy-Woman-Martyr\"),\n    \"For-a-Pope\": t(\"For-a-Pope\"),\n    \"For-a-Bishop\": t(\"For-a-Bishop\"),\n    \"For-One-Pastor\": t(\"For-One-Pastor\"),\n    \"For-Several-Pastors\": t(\"For-Several-Pastors\"),\n    \"For-Founders-of-a-Church\": t(\"For-Founders-of-a-Church\"),\n    \"For-One-Founder\": t(\"For-One-Founder\"),\n    \"For-Several-Founders\": t(\"For-Several-Founders\"),\n    \"For-Missionaries\": t(\"For-Missionaries\"),\n    \"For-One-Virgin\": t(\"For-One-Virgin\"),\n    \"For-Several-Virgins\": t(\"For-Several-Virgins\"),\n    \"For-Several-Saints\": t(\"For-Several-Saints\"),\n    \"For-One-Saint\": t(\"For-One-Saint\"),\n    \"For-an-Abbot\": t(\"For-an-Abbot\"),\n    \"For-a-Monk\": t(\"For-a-Monk\"),\n    \"For-a-Nun\": t(\"For-a-Nun\"),\n    \"For-Religious\": t(\"For-Religious\"),\n    \"For-Those-Who-Practiced-Works-of-Mercy\": t(\"For-Those-Who-Practiced-Works-of-Mercy\"),\n    \"For-Educators\": t(\"For-Educators\"),\n    \"For-Holy-Women\": t(\"For-Holy-Women\")\n  };\n  var universalCommons = [\"Blessed Virgin Mary\", \"Virgins\", \"Martyrs\", \"Pastors\", \"Doctors\", \"Holy Men and Women\", \"Dedication of a Church\"];\n  var translCommon = function translCommon(common) {\n    if (common === 'Proper') {\n      return t('Proper');\n    } else {\n      var commons = common.map(function (txt) {\n        var commonFull = txt.split(\":\");\n        if (universalCommons.includes(commonFull[0])) {\n          var commonGeneral = t(commonFull[0].replaceAll(' ', '-'));\n          var commonSpecific = typeof commonFull[1] !== 'undefined' && commonFull[1] != \"\" ? commonsMap[commonFull[1].replaceAll(' ', '-')] : \"\";\n          var commonKey = '';\n          //txt = str_replace(\":\", \": \", txt);\n          switch (commonGeneral) {\n            case t(\"Blessed-Virgin-Mary\"):\n              commonKey = t(\"of-the\", {\n                context: \"(SING_FEMM)\"\n              });\n              break;\n            case t(\"Virgins\"):\n              commonKey = t(\"of\", {\n                context: \"(PLUR_FEMM)\"\n              });\n              break;\n            case t(\"Martyrs\"):\n            case t(\"Pastors\"):\n            case t(\"Doctors\"):\n            case t(\"Holy-Men-and-Women\"):\n              commonKey = t(\"of\", {\n                context: \"(PLUR_MASC)\"\n              });\n              break;\n            case t(\"Dedication-of-a-Church\"):\n              commonKey = t(\"of-the\", {\n                context: \"(SING_FEMM)\"\n              });\n            default:\n              commonKey = t(\"of\", {\n                context: \"(SING_MASC)\"\n              });\n          }\n          return t(\"From-the-Common\") + \" \" + commonKey + \" \" + commonGeneral + (commonSpecific != \"\" ? \": \" + commonSpecific : \"\");\n        } else {\n          return t(\"From-the-Common\") + \" \" + t(\"of\") + \" \" + txt.split(':').join(': ');\n        }\n      });\n      return commons.join(\"; \" + t(\"or\") + \" \");\n    }\n  };\n  var EventColors = function EventColors(_ref2) {\n    var colors = _ref2.colors;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"i\", {\n        children: [t('liturgical-color'), \": \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 9\n      }, _this), colors.map(function (tColor, i) {\n        if (i === 0) {\n          return /*#__PURE__*/_jsxDEV(\"span\", {\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              style: {\n                display: 'inline-block',\n                height: '1em',\n                width: '1em',\n                backgroundColor: tColor,\n                border: '1px solid gray',\n                margin: '0 6px',\n                verticalAlign: 'bottom'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 140,\n              columnNumber: 34\n            }, _this), translColor[tColor]]\n          }, i, true, {\n            fileName: _jsxFileName,\n            lineNumber: 140,\n            columnNumber: 20\n          }, _this);\n        } else {\n          return /*#__PURE__*/_jsxDEV(\"span\", {\n            children: [\" \", /*#__PURE__*/_jsxDEV(\"i\", {\n              children: t('or')\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 143,\n              columnNumber: 35\n            }, _this), \" \", /*#__PURE__*/_jsxDEV(\"i\", {\n              style: {\n                display: 'inline-block',\n                height: '1em',\n                width: '1em',\n                backgroundColor: tColor,\n                border: '1px solid gray',\n                margin: '0 6px',\n                verticalAlign: 'bottom'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 143,\n              columnNumber: 52\n            }, _this), translColor[tColor]]\n          }, i, true, {\n            fileName: _jsxFileName,\n            lineNumber: 143,\n            columnNumber: 20\n          }, _this);\n        }\n      })]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 7\n    }, _this);\n  };\n  var translColor = {\n    \"white\": t(\"white\"),\n    \"red\": t(\"red\"),\n    \"green\": t(\"green\"),\n    \"purple\": t(\"purple\"),\n    \"pink\": t(\"pink\")\n  };\n  var translGrade = [t(\"weekday\"), t(\"Commemoration\"), t(\"Optional-memorial\"), t(\"Memorial\"), t(\"FEAST\"), t(\"FEAST-OF-THE-LORD\"), t(\"SOLEMNITY\")];\n  var GradeWrapper = function GradeWrapper(_ref3) {\n    var wrapper = _ref3.wrapper,\n      children = _ref3.children;\n    return wrapper(children);\n  };\n  var filterTagsDisplayGrade = [/OrdSunday[0-9]{1,2}(_vigil){0,1}/, /Advent[1-4](_vigil){0,1}/, /Lent[1-5](_vigil){0,1}/, /Easter[1-7](_vigil){0,1}/];\n  var handleLitCalBtn = function handleLitCalBtn(ev) {\n    switch (ev.target.id) {\n      case 'LitCalPrevBtn':\n        setAddDays(function (prevState) {\n          return prevState - 1;\n        });\n        break;\n      case 'LitCalNextBtn':\n        setAddDays(function (prevState) {\n          return prevState + 1;\n        });\n    }\n  };\n  var Festivities = function Festivities(_ref4) {\n    var litCalData = _ref4.litCalData,\n      dateDiff = _ref4.dateDiff,\n      liturgyOfTheDayProps = _ref4.liturgyOfTheDayProps;\n    var _liturgyOfTheDayProps = liturgyOfTheDayProps.LiturgyOfTheDayTitleClassnames,\n      LiturgyOfTheDayTitleClassnames = _liturgyOfTheDayProps === void 0 ? '' : _liturgyOfTheDayProps,\n      _liturgyOfTheDayProps2 = liturgyOfTheDayProps.LiturgyOfTheDayInnerClassnames,\n      LiturgyOfTheDayInnerClassnames = _liturgyOfTheDayProps2 === void 0 ? '' : _liturgyOfTheDayProps2,\n      _liturgyOfTheDayProps3 = liturgyOfTheDayProps.LiturgyOfTheDayFestivityNameClassnames,\n      LiturgyOfTheDayFestivityNameClassnames = _liturgyOfTheDayProps3 === void 0 ? '' : _liturgyOfTheDayProps3,\n      _liturgyOfTheDayProps4 = liturgyOfTheDayProps.LiturgyOfTheDayGradeClassnames,\n      LiturgyOfTheDayGradeClassnames = _liturgyOfTheDayProps4 === void 0 ? '' : _liturgyOfTheDayProps4,\n      _liturgyOfTheDayProps5 = liturgyOfTheDayProps.LiturgyOfTheDayCommonClassnames,\n      LiturgyOfTheDayCommonClassnames = _liturgyOfTheDayProps5 === void 0 ? '' : _liturgyOfTheDayProps5,\n      _liturgyOfTheDayProps6 = liturgyOfTheDayProps.LiturgyOfTheDayLiturgicalYearClassnames,\n      LiturgyOfTheDayLiturgicalYearClassnames = _liturgyOfTheDayProps6 === void 0 ? '' : _liturgyOfTheDayProps6,\n      _liturgyOfTheDayProps7 = liturgyOfTheDayProps.LiturgicalColorAsBG,\n      LiturgicalColorAsBG = _liturgyOfTheDayProps7 === void 0 ? true : _liturgyOfTheDayProps7;\n    var newDate = new Date();\n    newDate.setDate(newDate.getDate() + dateDiff);\n    newDate.setUTCHours(0, 0, 0, 0);\n    var timestamp = newDate.getTime() / 1000;\n    var LitCal = litCalData.LitCal;\n    var children = Object.entries(LitCal).filter(function (_ref5) {\n      var _ref6 = _slicedToArray(_ref5, 2),\n        key = _ref6[0],\n        value = _ref6[1];\n      return parseInt(value.date) === timestamp && key === key;\n    });\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"LiturgyOfTheDayFestivitiesCollection\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: joinClassNames('LiturgyOfTheDayTitle', LiturgyOfTheDayTitleClassnames),\n        children: [t('liturgy-of'), \" \", dtFormat.format(newDate)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 7\n      }, _this), children.map(function (_ref7, i) {\n        var _ref8 = _slicedToArray(_ref7, 2),\n          tag = _ref8[0],\n          eventData = _ref8[1];\n        var eventDataCommon = eventData.common !== '' ? translCommon(eventData.common) : '';\n        var lclzdGrade = eventData.grade < 7 ? translGrade[eventData.grade] : '';\n        var isSundayOrdAdvLentEaster = filterTagsDisplayGrade.some(function (pattern) {\n          return pattern.test(tag);\n        });\n        var eventDataGrade = eventData.displayGrade !== '' ? eventData.displayGrade : !isSundayOrdAdvLentEaster ? /*#__PURE__*/_jsxDEV(GradeWrapper, {\n          wrapper: function wrapper(children) {\n            switch (eventData.grade) {\n              case 0:\n              case 1:\n                return /*#__PURE__*/_jsxDEV(\"i\", {\n                  children: children\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 216,\n                  columnNumber: 26\n                }, _this);\n              case 5:\n              case 6:\n                return /*#__PURE__*/_jsxDEV(\"b\", {\n                  children: children\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 219,\n                  columnNumber: 26\n                }, _this);\n              default:\n                return children;\n            }\n          },\n          children: lclzdGrade\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 212,\n          columnNumber: 11\n        }, _this) : '';\n        var eventDataColor = eventData.color;\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: joinClassNames('LiturgyOfTheDayInner', LiturgyOfTheDayInnerClassnames),\n          style: LiturgicalColorAsBG ? {\n            backgroundColor: eventDataColor[0],\n            color: highContrast.includes(eventDataColor[0]) ? \"white\" : \"black\"\n          } : {},\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: joinClassNames('LiturgyOfTheDayFestivityName', LiturgyOfTheDayFestivityNameClassnames),\n            children: eventData.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 234,\n            columnNumber: 11\n          }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: joinClassNames('LiturgyOfTheDayGrade', LiturgyOfTheDayGradeClassnames),\n            children: [eventDataGrade, !LiturgicalColorAsBG && /*#__PURE__*/_jsxDEV(EventColors, {\n              colors: eventDataColor\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 235,\n              columnNumber: 139\n            }, _this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 235,\n            columnNumber: 11\n          }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: joinClassNames('LiturgyOfTheDayCommon', LiturgyOfTheDayCommonClassnames),\n            children: eventDataCommon\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 236,\n            columnNumber: 11\n          }, _this), eventData.hasOwnProperty('liturgicalYear') && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: joinClassNames('LiturgyOfTheDayLiturgicalYear', LiturgyOfTheDayLiturgicalYearClassnames),\n            children: eventData.liturgicalYear\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 237,\n            columnNumber: 58\n          }, _this)]\n        }, i, true, {\n          fileName: _jsxFileName,\n          lineNumber: 226,\n          columnNumber: 16\n        }, _this);\n      })]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 7\n    }, _this);\n  };\n  useEffect(function () {\n    setLoading(true);\n    if (locale) {\n      i18n.changeLanguage(Intl.getCanonicalLocales(locale));\n      setDtFormat(new Intl.DateTimeFormat(Intl.getCanonicalLocales(locale), {\n        dateStyle: 'full'\n      }));\n    }\n    Promise.all([fetch(MetadataURL, {\n      method: \"POST\",\n      mode: \"cors\",\n      headers: {\n        Accept: \"application/json\"\n      }\n    }), fetch(LitCalAPIURL, {\n      method: \"POST\",\n      mode: \"cors\",\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        locale: locale,\n        nationalCalendar: nationalCalendar,\n        diocesanCalendar: diocesanCalendar,\n        year: year\n      })\n    })]).then(function (responses) {\n      return Promise.all(responses.map(function (response) {\n        if (response.ok) {\n          return response.json();\n        } else {\n          throw new Error();\n        }\n      }));\n    }).then(function (dataArray) {\n      setLoading(false);\n      dataArray.forEach(function (data) {\n        if (data.hasOwnProperty(\"LitCalMetadata\")) {\n          setMetadata(data);\n          var LitCalMetadata = data.LitCalMetadata;\n          var NationalCalendars = LitCalMetadata.NationalCalendars,\n            DiocesanCalendars = LitCalMetadata.DiocesanCalendars;\n          if (nationalCalendar && !Object.keys(NationalCalendars).includes(nationalCalendar)) {\n            var message = t('propError', {\n              prop: 'nationalCalendar'\n            });\n            setError({\n              'message': message + ' ' + Object.keys(NationalCalendars).join(' | ')\n            });\n            setHasError(true);\n          }\n          if (diocesanCalendar && !Object.keys(DiocesanCalendars).includes(diocesanCalendar)) {\n            var _message = t('propError', {\n              prop: 'diocesanCalendar'\n            });\n            setError({\n              'message': _message + ' ' + Object.keys(DiocesanCalendars).join(' | ')\n            });\n            setHasError(true);\n          }\n        } else if (data.hasOwnProperty(\"LitCal\")) {\n          setLitCal(data);\n        }\n      }, function (error) {\n        setError(error);\n        setHasError(true);\n      });\n    }).catch(function (error) {\n      if (error.message === 'Failed to fetch') {\n        setError({\n          'message': 'You must first register the domain on which you are using the Liturgy of the Day component. Please contact the owner of the Liturgy of the Day API (priest[at]johnromanodorazio.com).'\n        });\n      } else {\n        setError(error);\n      }\n      setHasError(true);\n    });\n  }, [locale, nationalCalendar, diocesanCalendar, year]);\n  if (hasError) {\n    return /*#__PURE__*/_jsxDEV(\"span\", {\n      children: [\"Error: \", error.message]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 310,\n      columnNumber: 12\n    }, _this);\n  } else if (loading || litCal === null) {\n    return /*#__PURE__*/_jsxDEV(\"span\", {\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 312,\n      columnNumber: 12\n    }, _this);\n  } else {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: joinClassNames('LiturgyOfTheDayOuter', LiturgyOfTheDayOuterClassnames),\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: \"flex\",\n          justifyContent: \"space-between\"\n        },\n        children: [allowPrevNext && /*#__PURE__*/_jsxDEV(\"button\", {\n          id: \"LitCalPrevBtn\",\n          className: joinClassNames('LitCalPrevBtn', LiturgyOfTheDayPrevBtnClassnames),\n          onClick: handleLitCalBtn,\n          children: \"<<\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 317,\n          columnNumber: 29\n        }, _this), /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: t(\"Liturgy-of-the-Day\")\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 318,\n          columnNumber: 11\n        }, _this), allowPrevNext && /*#__PURE__*/_jsxDEV(\"button\", {\n          id: \"LitCalNextBtn\",\n          className: joinClassNames('LitCalNextBtn', LiturgyOfTheDayNextBtnClassnames),\n          onClick: handleLitCalBtn,\n          children: \">>\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 319,\n          columnNumber: 29\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 316,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(Festivities, {\n        litCalData: litCal,\n        dateDiff: addDays,\n        liturgyOfTheDayProps: props\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 321,\n        columnNumber: 9\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 315,\n      columnNumber: 7\n    }, _this);\n  }\n};\n_s(LiturgyOfTheDay, \"HPUExRwblqGo3pzPG3nqPfXBtoE=\", false, function () {\n  return [useTranslation];\n});\n_c = LiturgyOfTheDay;\nexport default LiturgyOfTheDay;\nvar _c;\n$RefreshReg$(_c, \"LiturgyOfTheDay\");","map":{"version":3,"names":["useState","useEffect","i18n","initReactI18next","useTranslation","enRes","itRes","esRes","deRes","frRes","ptRes","resources","en","translation","it","es","de","fr","pt","endpointVersion","MetadataURL","LitCalAPIURL","highContrast","joinClassNames","class1","classes","split","join","trim","use","init","lng","fallbackLng","react","useSuspense","LiturgyOfTheDay","locale","nationalCalendar","diocesanCalendar","year","LiturgyOfTheDayOuterClassnames","allowPrevNext","LiturgyOfTheDayPrevBtnClassnames","LiturgyOfTheDayNextBtnClassnames","props","metadata","setMetadata","litCal","setLitCal","loading","setLoading","hasError","setHasError","error","setError","Intl","DateTimeFormat","dateStyle","dtFormat","setDtFormat","addDays","setAddDays","t","commonsMap","universalCommons","translCommon","common","commons","map","txt","commonFull","includes","commonGeneral","replaceAll","commonSpecific","commonKey","context","EventColors","colors","tColor","i","display","height","width","backgroundColor","border","margin","verticalAlign","translColor","translGrade","GradeWrapper","wrapper","children","filterTagsDisplayGrade","handleLitCalBtn","ev","target","id","prevState","Festivities","litCalData","dateDiff","liturgyOfTheDayProps","LiturgyOfTheDayTitleClassnames","LiturgyOfTheDayInnerClassnames","LiturgyOfTheDayFestivityNameClassnames","LiturgyOfTheDayGradeClassnames","LiturgyOfTheDayCommonClassnames","LiturgyOfTheDayLiturgicalYearClassnames","LiturgicalColorAsBG","newDate","Date","setDate","getDate","setUTCHours","timestamp","getTime","LitCal","Object","entries","filter","key","value","parseInt","date","format","tag","eventData","eventDataCommon","lclzdGrade","grade","isSundayOrdAdvLentEaster","some","pattern","test","eventDataGrade","displayGrade","eventDataColor","color","name","hasOwnProperty","liturgicalYear","changeLanguage","getCanonicalLocales","Promise","all","fetch","method","mode","headers","Accept","body","JSON","stringify","then","responses","response","ok","json","Error","dataArray","forEach","data","LitCalMetadata","NationalCalendars","DiocesanCalendars","keys","message","prop","catch","justifyContent"],"sources":["/home/johnrdorazio/development/liturgy-of-the-day-react/src/lib/components/LiturgyOfTheDay.js"],"sourcesContent":["import { useState, useEffect } from 'react';\r\nimport i18n from 'i18next';\r\nimport { initReactI18next, useTranslation } from 'react-i18next';\r\nimport enRes from './locales/en/translation.json'\r\nimport itRes from './locales/it/translation.json'\r\nimport esRes from './locales/es/translation.json'\r\nimport deRes from './locales/de/translation.json'\r\nimport frRes from './locales/fr/translation.json'\r\nimport ptRes from './locales/pt/translation.json'\r\n\r\nconst resources = {\r\n  en: { translation: enRes },\r\n  it: { translation: itRes },\r\n  es: { translation: esRes },\r\n  de: { translation: deRes },\r\n  fr: { translation: frRes },\r\n  pt: { translation: ptRes }\r\n}\r\n\r\nconst endpointVersion = \"dev\"; //could also be 'dev'...\r\nconst MetadataURL = `https://litcal.johnromanodorazio.com/api/${endpointVersion}/LitCalMetadata.php`;\r\nconst LitCalAPIURL = `https://litcal.johnromanodorazio.com/api/${endpointVersion}/LitCalEngine.php`;\r\nconst highContrast = [ \"green\", \"red\", \"purple\" ];\r\nconst joinClassNames = (class1,classes) => [class1, ...(classes.split(' '))].join(' ').trim();\r\n\r\ni18n.use(initReactI18next).init({\r\n  lng: 'en',\r\n  fallbackLng: 'en',\r\n  resources,\r\n  react: {\r\n    useSuspense: true,\r\n },\r\n});\r\n\r\nconst LiturgyOfTheDay = ({\r\n  locale                                  = '',\r\n  nationalCalendar                        = '',\r\n  diocesanCalendar                        = '',\r\n  year                                    = '',\r\n  LiturgyOfTheDayOuterClassnames          = '',\r\n  allowPrevNext                           = false,\r\n  LiturgyOfTheDayPrevBtnClassnames        = '',\r\n  LiturgyOfTheDayNextBtnClassnames        = '',\r\n...props\r\n}) => {\r\n  const [metadata, setMetadata] = useState(null);\r\n  const [litCal, setLitCal] = useState(null);\r\n  const [loading, setLoading] = useState(false);\r\n  const [hasError, setHasError] = useState(false);\r\n  const [error, setError] = useState(null);\r\n  const [dtFormat, setDtFormat] = useState(new Intl.DateTimeFormat('en', { dateStyle: 'full' }));\r\n  const [addDays, setAddDays] = useState(0);\r\n  const { t } = useTranslation();\r\n\r\n  const commonsMap = {\r\n    \"For-One-Martyr\"                          : t( \"For-One-Martyr\" ),\r\n    \"For-Several-Martyrs\"                     : t( \"For-Several-Martyrs\" ),\r\n    \"For-Missionary-Martyrs\"                  : t( \"For-Missionary-Martyrs\" ),\r\n    \"For-One-Missionary-Martyr\"               : t( \"For-One-Missionary-Martyr\" ),\r\n    \"For-Several-Missionary-Martyrs\"          : t( \"For-Several-Missionary-Martyrs\" ),\r\n    \"For-a-Virgin-Martyr\"                     : t( \"For-a-Virgin-Martyr\" ),\r\n    \"For-a-Holy-Woman-Martyr\"                 : t( \"For-a-Holy-Woman-Martyr\" ),\r\n    \"For-a-Pope\"                              : t( \"For-a-Pope\" ),\r\n    \"For-a-Bishop\"                            : t( \"For-a-Bishop\" ),\r\n    \"For-One-Pastor\"                          : t( \"For-One-Pastor\" ),\r\n    \"For-Several-Pastors\"                     : t( \"For-Several-Pastors\" ),\r\n    \"For-Founders-of-a-Church\"                : t( \"For-Founders-of-a-Church\" ),\r\n    \"For-One-Founder\"                         : t( \"For-One-Founder\" ),\r\n    \"For-Several-Founders\"                    : t( \"For-Several-Founders\" ),\r\n    \"For-Missionaries\"                        : t( \"For-Missionaries\" ),\r\n    \"For-One-Virgin\"                          : t( \"For-One-Virgin\" ),\r\n    \"For-Several-Virgins\"                     : t( \"For-Several-Virgins\" ),\r\n    \"For-Several-Saints\"                      : t( \"For-Several-Saints\" ),\r\n    \"For-One-Saint\"                           : t( \"For-One-Saint\" ),\r\n    \"For-an-Abbot\"                            : t( \"For-an-Abbot\" ),\r\n    \"For-a-Monk\"                              : t( \"For-a-Monk\" ),\r\n    \"For-a-Nun\"                               : t( \"For-a-Nun\" ),\r\n    \"For-Religious\"                           : t( \"For-Religious\" ),\r\n    \"For-Those-Who-Practiced-Works-of-Mercy\"  : t( \"For-Those-Who-Practiced-Works-of-Mercy\" ),\r\n    \"For-Educators\"                           : t( \"For-Educators\" ),\r\n    \"For-Holy-Women\"                          : t( \"For-Holy-Women\" )\r\n  }\r\n\r\n  const universalCommons = [\r\n    \"Blessed Virgin Mary\",\r\n    \"Virgins\",\r\n    \"Martyrs\",\r\n    \"Pastors\",\r\n    \"Doctors\",\r\n    \"Holy Men and Women\",\r\n    \"Dedication of a Church\"\r\n  ];\r\n\r\n  const translCommon = common => {\r\n    if( common === 'Proper' ) {\r\n        return t('Proper');\r\n    }\r\n    else {\r\n        let commons = common.map(txt => {\r\n            let commonFull = txt.split(\":\");\r\n            if( universalCommons.includes(commonFull[0]) ) {\r\n              let commonGeneral = t(commonFull[0].replaceAll(' ', '-'));\r\n              let commonSpecific = (typeof commonFull[1] !== 'undefined' && commonFull[1] != \"\") ? commonsMap[(commonFull[1].replaceAll(' ', '-'))] : \"\";\r\n              let commonKey = '';\r\n              //txt = str_replace(\":\", \": \", txt);\r\n              switch (commonGeneral) {\r\n                  case t(\"Blessed-Virgin-Mary\"):\r\n                      commonKey = t(\"of-the\", {context: \"(SING_FEMM)\"});\r\n                      break;\r\n                  case t(\"Virgins\"):\r\n                      commonKey = t(\"of\", {context: \"(PLUR_FEMM)\"});\r\n                      break;\r\n                  case t(\"Martyrs\"):\r\n                  case t(\"Pastors\"):\r\n                  case t(\"Doctors\"):\r\n                  case t(\"Holy-Men-and-Women\"):\r\n                      commonKey = t(\"of\", {context: \"(PLUR_MASC)\"});\r\n                      break;\r\n                  case t(\"Dedication-of-a-Church\"):\r\n                      commonKey = t(\"of-the\", {context: \"(SING_FEMM)\"});\r\n                  default:\r\n                      commonKey = t(\"of\", {context: \"(SING_MASC)\"});\r\n              }\r\n              return t(\"From-the-Common\") + \" \" + commonKey + \" \" + commonGeneral + (commonSpecific != \"\" ? \": \" + commonSpecific : \"\");\r\n            }\r\n            else {\r\n              return t(\"From-the-Common\") + \" \" + t(\"of\") + \" \" + txt.split(':').join(': ');\r\n            }\r\n        });\r\n        return commons.join(\"; \" + t(\"or\") + \" \");\r\n    }\r\n  }\r\n\r\n  const EventColors = ({colors}) => {\r\n    return (\r\n      <div>\r\n        <i>{t('liturgical-color')}: </i>\r\n        {colors.map((tColor,i) => {\r\n          if(i === 0){\r\n            return <span key={i}><i style={{display:'inline-block',height:'1em',width:'1em',backgroundColor:tColor,border:'1px solid gray',margin:'0 6px',verticalAlign:'bottom'}}></i>{translColor[tColor]}</span>\r\n          }\r\n          else {\r\n            return <span key={i}> <i>{t('or')}</i> <i style={{display:'inline-block',height:'1em',width:'1em',backgroundColor:tColor,border:'1px solid gray',margin:'0 6px',verticalAlign:'bottom'}}></i>{translColor[tColor]}</span>\r\n          }\r\n        })}\r\n      </div>\r\n    )\r\n  }\r\n\r\n  const translColor = {\r\n    \"white\"   : t(\"white\"),\r\n    \"red\"     : t(\"red\"),\r\n    \"green\"   : t(\"green\"),\r\n    \"purple\"  : t(\"purple\"),\r\n    \"pink\"    : t(\"pink\")\r\n  }\r\n\r\n  const translGrade = [\r\n    t( \"weekday\" ),\r\n    t( \"Commemoration\" ),\r\n    t( \"Optional-memorial\" ),\r\n    t( \"Memorial\" ),\r\n    t( \"FEAST\" ),\r\n    t( \"FEAST-OF-THE-LORD\" ),\r\n    t( \"SOLEMNITY\" )\r\n  ];\r\n\r\n  const GradeWrapper = ({ wrapper, children }) => wrapper(children);\r\n\r\n  const filterTagsDisplayGrade = [\r\n    /OrdSunday[0-9]{1,2}(_vigil){0,1}/,\r\n    /Advent[1-4](_vigil){0,1}/,\r\n    /Lent[1-5](_vigil){0,1}/,\r\n    /Easter[1-7](_vigil){0,1}/\r\n  ];\r\n\r\n  const handleLitCalBtn = ev => {\r\n    switch(ev.target.id) {\r\n      case 'LitCalPrevBtn':\r\n        setAddDays(prevState => prevState - 1);\r\n        break;\r\n      case 'LitCalNextBtn':\r\n        setAddDays(prevState => prevState + 1);\r\n    }\r\n  }\r\n\r\n  const Festivities = ({litCalData,dateDiff,liturgyOfTheDayProps}) => {\r\n    const {\r\n      LiturgyOfTheDayTitleClassnames          = '',\r\n      LiturgyOfTheDayInnerClassnames          = '',\r\n      LiturgyOfTheDayFestivityNameClassnames  = '',\r\n      LiturgyOfTheDayGradeClassnames          = '',\r\n      LiturgyOfTheDayCommonClassnames         = '',\r\n      LiturgyOfTheDayLiturgicalYearClassnames = '',\r\n      LiturgicalColorAsBG                     = true\r\n    } = liturgyOfTheDayProps;\r\n    let newDate = new Date();\r\n    newDate.setDate(newDate.getDate() + dateDiff);\r\n    newDate.setUTCHours(0,0,0,0);\r\n    const timestamp = newDate.getTime() / 1000;\r\n    const { LitCal } = litCalData;\r\n    let children = Object.entries(LitCal).filter(([key, value]) => parseInt(value.date) === timestamp && key === key );\r\n    return (\r\n      <div className=\"LiturgyOfTheDayFestivitiesCollection\">\r\n      <h2 className={joinClassNames('LiturgyOfTheDayTitle',LiturgyOfTheDayTitleClassnames)}>{t('liturgy-of')} {dtFormat.format(newDate)}</h2>\r\n      {children.map(([tag, eventData],i) => {\r\n        const eventDataCommon = eventData.common !== '' ? translCommon(eventData.common) : '';\r\n        const lclzdGrade = eventData.grade < 7 ? translGrade[eventData.grade] : '';\r\n        let isSundayOrdAdvLentEaster = filterTagsDisplayGrade.some(pattern => pattern.test(tag));\r\n        const eventDataGrade  = eventData.displayGrade !== '' ? \r\n          eventData.displayGrade : (!isSundayOrdAdvLentEaster ?\r\n          <GradeWrapper wrapper={children => {\r\n              switch(eventData.grade){\r\n                case 0:\r\n                case 1:\r\n                  return <i>{children}</i>\r\n                case 5:\r\n                case 6:\r\n                  return <b>{children}</b>\r\n                default:\r\n                  return children\r\n              }\r\n            }\r\n          }>{lclzdGrade}</GradeWrapper> : '');\r\n        const eventDataColor = eventData.color;\r\n        return <div \r\n          className={joinClassNames('LiturgyOfTheDayInner',LiturgyOfTheDayInnerClassnames)}\r\n          style={LiturgicalColorAsBG ? {\r\n            backgroundColor:eventDataColor[0],\r\n            color:highContrast.includes(eventDataColor[0]) ? \"white\" : \"black\"\r\n          } : {}}\r\n          key={i}\r\n        >\r\n          <div className={joinClassNames('LiturgyOfTheDayFestivityName',LiturgyOfTheDayFestivityNameClassnames)}>{eventData.name}</div>\r\n          <div className={joinClassNames('LiturgyOfTheDayGrade',LiturgyOfTheDayGradeClassnames)}>{eventDataGrade}{!LiturgicalColorAsBG && <EventColors colors={eventDataColor} />}</div>\r\n          <div className={joinClassNames('LiturgyOfTheDayCommon',LiturgyOfTheDayCommonClassnames)}>{eventDataCommon}</div>\r\n          {eventData.hasOwnProperty('liturgicalYear') && <div className={joinClassNames('LiturgyOfTheDayLiturgicalYear',LiturgyOfTheDayLiturgicalYearClassnames)}>{eventData.liturgicalYear}</div>}\r\n        </div>\r\n      })}\r\n      </div>\r\n    )\r\n  }\r\n\r\n  useEffect(() => {\r\n    setLoading(true);\r\n    if(locale) {\r\n      i18n.changeLanguage(Intl.getCanonicalLocales(locale));\r\n      setDtFormat(new Intl.DateTimeFormat(Intl.getCanonicalLocales(locale), { dateStyle: 'full' }));\r\n    }\r\n    Promise.all([\r\n      fetch(MetadataURL, {\r\n        method: \"POST\",\r\n        mode: \"cors\",\r\n        headers: {\r\n          Accept: \"application/json\"\r\n        }\r\n      }),\r\n      fetch(LitCalAPIURL, {\r\n        method: \"POST\",\r\n        mode: \"cors\",\r\n        headers: {\r\n          Accept: \"application/json\",\r\n          \"Content-Type\": \"application/json\"\r\n        },\r\n        body: JSON.stringify({locale: locale, nationalCalendar: nationalCalendar, diocesanCalendar: diocesanCalendar, year: year})\r\n      })\r\n    ])\r\n      .then((responses) => {\r\n        return Promise.all(responses.map((response) => { if(response.ok) { return response.json(); } else { throw new Error(); } }));\r\n      })\r\n      .then((dataArray) => {\r\n        setLoading(false);\r\n        dataArray.forEach((data) => {\r\n            if (data.hasOwnProperty(\"LitCalMetadata\")) {\r\n              setMetadata(data);\r\n              const { LitCalMetadata } = data;\r\n              const { NationalCalendars, DiocesanCalendars } = LitCalMetadata;\r\n              if( nationalCalendar && !Object.keys( NationalCalendars ).includes( nationalCalendar ) ) {\r\n                const message = t('propError', {prop:'nationalCalendar'});\r\n                setError({'message': message + ' ' + Object.keys( NationalCalendars ).join(' | ') });\r\n                setHasError(true);\r\n              }\r\n              if( diocesanCalendar && !Object.keys( DiocesanCalendars ).includes( diocesanCalendar ) ) {\r\n                const message = t('propError', {prop:'diocesanCalendar'});\r\n                setError({'message': message + ' ' + Object.keys( DiocesanCalendars ).join(' | ') });\r\n                setHasError(true);\r\n              }\r\n            }\r\n            else if(data.hasOwnProperty(\"LitCal\")) {\r\n              setLitCal(data);\r\n            }\r\n          },\r\n          (error) => {\r\n            setError(error);\r\n            setHasError(true);\r\n          }\r\n        );\r\n      })\r\n      .catch((error) => {\r\n        if(error.message === 'Failed to fetch'){\r\n          setError({'message' : 'You must first register the domain on which you are using the Liturgy of the Day component. Please contact the owner of the Liturgy of the Day API (priest[at]johnromanodorazio.com).'});\r\n        } else {\r\n          setError(error);\r\n        }\r\n        setHasError(true);\r\n      });\r\n  }, [locale,nationalCalendar,diocesanCalendar,year]);\r\n\r\n  if (hasError) {\r\n    return <span>Error: {error.message}</span>;\r\n  } else if (loading || litCal === null) {\r\n    return <span>Loading...</span>;\r\n  } else {\r\n    return (\r\n      <div className={joinClassNames('LiturgyOfTheDayOuter',LiturgyOfTheDayOuterClassnames)}>\r\n        <div style={{display:\"flex\",justifyContent:\"space-between\"}}>\r\n          {allowPrevNext && <button id='LitCalPrevBtn' className={joinClassNames('LitCalPrevBtn',LiturgyOfTheDayPrevBtnClassnames)} onClick={handleLitCalBtn}>{`<<`}</button>}\r\n          <h1>{t( \"Liturgy-of-the-Day\" )}</h1>\r\n          {allowPrevNext && <button id='LitCalNextBtn' className={joinClassNames('LitCalNextBtn',LiturgyOfTheDayNextBtnClassnames)} onClick={handleLitCalBtn}>{`>>`}</button>}\r\n        </div>\r\n        <Festivities\r\n          litCalData={litCal}\r\n          dateDiff={addDays}\r\n          liturgyOfTheDayProps={props}\r\n          />\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default LiturgyOfTheDay;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}